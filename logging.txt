已连接!
2025-11-19T14:49:44.9954443Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-11-19T14:49:45.1189586Z Starting OpenBSD Secure Shell server: sshd.
2025-11-19T14:49:48.6929796Z Hosting environment: Production
2025-11-19T14:49:48.6930916Z Content root path: /azure-functions-host
2025-11-19T14:49:48.6931002Z Now listening on: http://[::]:80
2025-11-19T14:49:48.6931152Z Application started. Press Ctrl+C to shut down.
2025-11-19T14:50:46.1021004Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-11-19T14:50:46.1777829Z Starting OpenBSD Secure Shell server: sshd.
2025-11-19T14:50:50.4605243Z Hosting environment: Production
2025-11-19T14:50:50.460764Z Content root path: /azure-functions-host
2025-11-19T14:50:50.4607739Z Now listening on: http://[::]:80
2025-11-19T14:50:50.4607774Z Application started. Press Ctrl+C to shut down.
2025-11-19T14:51:47.7643721Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-11-19T14:51:50.3798955Z Starting OpenBSD Secure Shell server: sshd.
2025-11-19T14:51:52.4920642Z Hosting environment: Production
2025-11-19T14:51:52.4922377Z Content root path: /azure-functions-host
2025-11-19T14:51:52.492325Z Now listening on: http://[::]:80
2025-11-19T14:51:52.4923562Z Application started. Press Ctrl+C to shut down.
2025-11-19T14:56:09.5494999Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-11-19T14:56:09.7862721Z Starting OpenBSD Secure Shell server: sshd.
2025-11-19T14:56:14.3741692Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Initializing Warmup Extension.','category':'Host.Triggers.Warmup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.404818Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Initializing Host. OperationId: c9059d4a-dfec-407e-bdfa-442d0cda93cc.','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':503,'eventName':'Initializing'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4144066Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host initialization: ConsecutiveErrors=0, StartupCount=1, OperationId=c9059d4a-dfec-407e-bdfa-442d0cda93cc','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':504,'eventName':'Initialization'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4359407Z MS_FUNCTION_AZURE_MONITOR_EVENT 3,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Your app is using a deprecated version - 3.41.0 of extension bundles. Upgrade to a supported version: https://aka.ms/FunctionsBundlesUpgrade','category':'Host.General','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Warning','levelId':3,'processId':27,'eventId':342,'eventName':'OutdatedExtensionBundle'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4381019Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'LoggerFilterOptions\n{\n  \'MinLevel\': \'None\',\n  \'Rules\': [\n    {\n      \'ProviderName\': null,\n      \'CategoryName\': null,\n      \'LogLevel\': \'Warning\',\n      \'Filter\': null\n    },\n    {\n      \'ProviderName\': null,\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.WebHostSystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': \'None\',\n      \'Filter\': null\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.WebHostSystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    },\n    {\n      \'ProviderName\': null,\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': \'None\',\n      \'Filter\': null\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    }\n  ]\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4392842Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'HttpWorkerOptions\n{\n  \'Type\': 0,\n  \'Description\': null,\n  \'Arguments\': null,\n  \'Port\': 37915,\n  \'IsPortManuallySet\': false,\n  \'EnableForwardingHttpRequest\': false,\n  \'EnableProxyingHttpRequest\': false,\n  \'InitializationTimeout\': \'00:00:30\',\n  \'CustomRoutesEnabled\': false,\n  \'Http\': null\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4398015Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'FunctionResultAggregatorOptions\n{\n  \'BatchSize\': 1000,\n  \'FlushTimeout\': \'00:00:30\',\n  \'IsEnabled\': true\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4398729Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'ConcurrencyOptions\n{\n  \'DynamicConcurrencyEnabled\': false,\n  \'MaximumFunctionConcurrency\': 500,\n  \'CPUThreshold\': 0.8,\n  \'SnapshotPersistenceEnabled\': true\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4399078Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'SingletonOptions\n{\n  \'LockPeriod\': \'00:00:15\',\n  \'ListenerLockPeriod\': \'00:01:00\',\n  \'LockAcquisitionTimeout\': \'10675199.02:48:05.4775807\',\n  \'LockAcquisitionPollingInterval\': \'00:00:05\',\n  \'ListenerLockRecoveryPollingInterval\': \'00:01:00\'\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4399611Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'ScaleOptions\n{\n  \'ScaleMetricsMaxAge\': \'00:02:00\',\n  \'ScaleMetricsSampleInterval\': \'00:00:10\',\n  \'MetricsPurgeEnabled\': true,\n  \'IsTargetScalingEnabled\': true,\n  \'IsRuntimeScalingEnabled\': false\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4406977Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Starting JobHost','category':'Microsoft.Azure.WebJobs.Hosting.JobHostService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4407524Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Starting Host (HostId=airquality, InstanceId=b8ddd99f-2f34-401f-9355-15be061b199d, Version=4.1045.100.0, ProcessId=27, AppDomainId=1, InDebugMode=True, InDiagnosticMode=False, FunctionsExtensionVersion=~4)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':401,'eventName':'StartingHost'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4549662Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Loading functions metadata','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':314,'eventName':'FunctionMetadataManagerLoadingFunctionsMetadata'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4592211Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Reading functions metadata (Custom)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':326,'eventName':'ReadingFunctionMetadataFromProvider'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4679397Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'0 functions found (Custom)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':327,'eventName':'FunctionsReturnedByProvider'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4735227Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'2 functions loaded','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':315,'eventName':'FunctionMetadataManagerFunctionsLoaded'}",11/19/2025 14:56:14
2025-11-19T14:56:14.4855251Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Generating 2 job function(s)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.4877757Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Worker process started and initialized.','category':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcFunctionInvocationDispatcher','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.517668Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Found the following functions:\nHost.Functions.GenerateAirQualityData\nHost.Functions.ProcessAirQualitySummary\n','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.5286503Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Initializing function HTTP routes\nNo HTTP routes mapped\n','category':'Microsoft.Azure.WebJobs.Script.WebHost.WebScriptHostHttpRoutesManager','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.5300573Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'HttpOptions\n{\n  \'DynamicThrottlesEnabled\': false,\n  \'EnableChunkedRequestBinding\': false,\n  \'MaxConcurrentRequests\': -1,\n  \'MaxOutstandingRequests\': -1,\n  \'RoutePrefix\': \'api\'\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.5457589Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host initialized (88ms)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':412,'eventName':'ScriptHostInitialized'}",11/19/2025 14:56:14
2025-11-19T14:56:14.8130331Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host started (372ms)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':413,'eventName':'ScriptHostStarted'}",11/19/2025 14:56:14
2025-11-19T14:56:14.815033Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Job host started','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:56:14
2025-11-19T14:56:14.9509636Z Hosting environment: Production
2025-11-19T14:56:14.9518036Z Content root path: /azure-functions-host
2025-11-19T14:56:14.9522745Z Now listening on: http://[::]:80
2025-11-19T14:56:14.953065Z Application started. Press Ctrl+C to shut down.
2025-11-19T14:56:49.4692392Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host lock lease acquired by instance ID e8b526046418f23e7ba2c67dc87c7eeb.','category':'Host.General','hostVersion':'4.1045.100.0','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':337,'eventName':'PrimaryHostCoordinatorLockLeaseAcquired'}",11/19/2025 14:56:49
2025-11-19T14:58:14.8657127Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'The next 5 occurrences of the GenerateAirQualityData schedule (Cron: 0 * * * * *) will be:\n11/19/2025 14:59:00Z\n11/19/2025 15:00:00Z\n11/19/2025 15:01:00Z\n11/19/2025 15:02:00Z\n11/19/2025 15:03:00Z\n','category':'Host.Triggers.Timer','hostVersion':'4.1045.100.0','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':5,'eventName':'NextOccurrences'}",11/19/2025 14:58:14
2025-11-19T14:58:14.8699974Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'The next 5 occurrences of the ProcessAirQualitySummary schedule (Cron: 0 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58 * * * *) will be:\n11/19/2025 15:00:00Z\n11/19/2025 15:02:00Z\n11/19/2025 15:04:00Z\n11/19/2025 15:06:00Z\n11/19/2025 15:08:00Z\n','category':'Host.Triggers.Timer','hostVersion':'4.1045.100.0','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':5,'eventName':'NextOccurrences'}",11/19/2025 14:58:14
2025-11-19T14:58:14.8963067Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T14:58:14.8763331+00:00, Id=ac670772-ebbf-497f-b6f3-af25fda9f610)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'ac670772-ebbf-497f-b6f3-af25fda9f610','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 14:58:14
2025-11-19T14:58:14.8977027Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.ProcessAirQualitySummary (Reason=Timer fired at 2025-11-19T14:58:14.8775460+00:00, Id=62f30dc4-e7b8-4b85-80cf-26464d65f2eb)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'62f30dc4-e7b8-4b85-80cf-26464d65f2eb','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 14:58:14
2025-11-19T14:58:14.8984935Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: UnscheduledInvocationReason: IsPastDue, OriginalSchedule: 2025-11-19T14:58:00.0000000+00:00, ScheduleStatus: {\'Last\':\'2025-11-19T14:56:00+00:00\',\'Next\':\'2025-11-19T14:58:00+00:00\',\'LastUpdated\':\'2025-11-19T14:56:00+00:00\'}','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'62f30dc4-e7b8-4b85-80cf-26464d65f2eb','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:58:14
2025-11-19T14:58:14.8986113Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: UnscheduledInvocationReason: IsPastDue, OriginalSchedule: 2025-11-19T14:57:00.0000000+00:00, ScheduleStatus: {\'Last\':\'2025-11-19T14:56:00+00:00\',\'Next\':\'2025-11-19T14:57:00+00:00\',\'LastUpdated\':\'2025-11-19T14:56:00+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'ac670772-ebbf-497f-b6f3-af25fda9f610','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:58:14
2025-11-19T14:58:14.9267848Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Error while processing air-quality changes: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.ProcessAirQualitySummary.User','hostVersion':'4.1045.100.0','functionInvocationId':'62f30dc4-e7b8-4b85-80cf-26464d65f2eb','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 14:58:14
2025-11-19T14:58:14.9296668Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'ac670772-ebbf-497f-b6f3-af25fda9f610','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 14:58:14
2025-11-19T14:58:14.9687702Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.ProcessAirQualitySummary (Failed, Id=62f30dc4-e7b8-4b85-80cf-26464d65f2eb, Duration=77ms)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'62f30dc4-e7b8-4b85-80cf-26464d65f2eb','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 14:58:14
2025-11-19T14:58:14.9692173Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=ac670772-ebbf-497f-b6f3-af25fda9f610, Duration=78ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'ac670772-ebbf-497f-b6f3-af25fda9f610','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 14:58:14
2025-11-19T14:58:14.9816616Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'ac670772-ebbf-497f-b6f3-af25fda9f610','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 14:58:14
2025-11-19T14:58:14.9826628Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'62f30dc4-e7b8-4b85-80cf-26464d65f2eb','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 14:58:14
2025-11-19T14:59:00.0031209Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T14:59:00.0018828+00:00, Id=90458087-cb67-4ed9-888c-de7b47a72527)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'90458087-cb67-4ed9-888c-de7b47a72527','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 14:59:00
2025-11-19T14:59:00.0041799Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T14:58:14.8732704+00:00\',\'Next\':\'2025-11-19T14:59:00+00:00\',\'LastUpdated\':\'2025-11-19T14:58:14.8732704+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'90458087-cb67-4ed9-888c-de7b47a72527','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 14:59:00
2025-11-19T14:59:00.0123565Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'90458087-cb67-4ed9-888c-de7b47a72527','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 14:59:00
2025-11-19T14:59:00.0153851Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=90458087-cb67-4ed9-888c-de7b47a72527, Duration=12ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'90458087-cb67-4ed9-888c-de7b47a72527','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 14:59:00
2025-11-19T14:59:00.0184575Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'90458087-cb67-4ed9-888c-de7b47a72527','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 14:59:00
2025-11-19T15:00:00.0034516Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.ProcessAirQualitySummary (Reason=Timer fired at 2025-11-19T15:00:00.0026817+00:00, Id=2941022d-0141-4ea7-9814-41240b144b95)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'2941022d-0141-4ea7-9814-41240b144b95','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:00:00
2025-11-19T15:00:00.004353Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T14:58:14.8768645+00:00\',\'Next\':\'2025-11-19T15:00:00+00:00\',\'LastUpdated\':\'2025-11-19T14:58:14.8768645+00:00\'}','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'2941022d-0141-4ea7-9814-41240b144b95','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:00:00
2025-11-19T15:00:00.0066259Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:00:00.0062144+00:00, Id=956f77fb-3b4a-48c9-a6a4-895f3cc58e24)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'956f77fb-3b4a-48c9-a6a4-895f3cc58e24','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:00:00
2025-11-19T15:00:00.0079946Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T14:59:00.0017382+00:00\',\'Next\':\'2025-11-19T15:00:00+00:00\',\'LastUpdated\':\'2025-11-19T14:59:00.0017382+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'956f77fb-3b4a-48c9-a6a4-895f3cc58e24','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:00:00
2025-11-19T15:00:00.013162Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Error while processing air-quality changes: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.ProcessAirQualitySummary.User','hostVersion':'4.1045.100.0','functionInvocationId':'2941022d-0141-4ea7-9814-41240b144b95','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:00:00
2025-11-19T15:00:00.0214113Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.ProcessAirQualitySummary (Failed, Id=2941022d-0141-4ea7-9814-41240b144b95, Duration=14ms)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'2941022d-0141-4ea7-9814-41240b144b95','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:00:00
2025-11-19T15:00:00.0226687Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'956f77fb-3b4a-48c9-a6a4-895f3cc58e24','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:00:00
2025-11-19T15:00:00.0227914Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'2941022d-0141-4ea7-9814-41240b144b95','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:00:00
2025-11-19T15:00:00.0274945Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=956f77fb-3b4a-48c9-a6a4-895f3cc58e24, Duration=19ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'956f77fb-3b4a-48c9-a6a4-895f3cc58e24','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:00:00
2025-11-19T15:00:00.0294231Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'956f77fb-3b4a-48c9-a6a4-895f3cc58e24','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:00:00
2025-11-19T15:01:00.0024748Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:01:00.0017547+00:00, Id=47405337-59b8-498f-a286-cde27d158ef3)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'47405337-59b8-498f-a286-cde27d158ef3','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:01:00
2025-11-19T15:01:00.0036711Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:00:00.0061503+00:00\',\'Next\':\'2025-11-19T15:01:00+00:00\',\'LastUpdated\':\'2025-11-19T15:00:00.0061503+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'47405337-59b8-498f-a286-cde27d158ef3','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:01:00
2025-11-19T15:01:00.0168833Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'47405337-59b8-498f-a286-cde27d158ef3','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:01:00
2025-11-19T15:01:00.0245722Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=47405337-59b8-498f-a286-cde27d158ef3, Duration=19ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'47405337-59b8-498f-a286-cde27d158ef3','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:01:00
2025-11-19T15:01:00.027973Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'47405337-59b8-498f-a286-cde27d158ef3','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:01:00
2025-11-19T15:01:59.9996368Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:01:59.9986217+00:00, Id=44ba8074-cc93-44d7-88c3-4911a3c55d7e)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'44ba8074-cc93-44d7-88c3-4911a3c55d7e','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:01:59
2025-11-19T15:01:59.9998848Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.ProcessAirQualitySummary (Reason=Timer fired at 2025-11-19T15:01:59.9986172+00:00, Id=98d5158e-b7a6-40ec-9ab5-30847348ee91)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'98d5158e-b7a6-40ec-9ab5-30847348ee91','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:01:59
2025-11-19T15:01:59.99992Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:01:00.0015398+00:00\',\'Next\':\'2025-11-19T15:02:00+00:00\',\'LastUpdated\':\'2025-11-19T15:01:00.0015398+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'44ba8074-cc93-44d7-88c3-4911a3c55d7e','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:01:59
2025-11-19T15:01:59.9999451Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:00:00.0024979+00:00\',\'Next\':\'2025-11-19T15:02:00+00:00\',\'LastUpdated\':\'2025-11-19T15:00:00.0024979+00:00\'}','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'98d5158e-b7a6-40ec-9ab5-30847348ee91','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:01:59
2025-11-19T15:02:00.0130334Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'44ba8074-cc93-44d7-88c3-4911a3c55d7e','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:02:00
2025-11-19T15:02:00.0169021Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=44ba8074-cc93-44d7-88c3-4911a3c55d7e, Duration=16ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'44ba8074-cc93-44d7-88c3-4911a3c55d7e','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:02:00
2025-11-19T15:02:00.018406Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Error while processing air-quality changes: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.ProcessAirQualitySummary.User','hostVersion':'4.1045.100.0','functionInvocationId':'98d5158e-b7a6-40ec-9ab5-30847348ee91','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:02:00
2025-11-19T15:02:00.0211988Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.ProcessAirQualitySummary (Failed, Id=98d5158e-b7a6-40ec-9ab5-30847348ee91, Duration=21ms)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'98d5158e-b7a6-40ec-9ab5-30847348ee91','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:02:00
2025-11-19T15:02:00.0225874Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'98d5158e-b7a6-40ec-9ab5-30847348ee91','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:02:00
2025-11-19T15:02:00.0227343Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'44ba8074-cc93-44d7-88c3-4911a3c55d7e','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:02:00
2025-11-19T15:03:00.0000364Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:02:59.9993342+00:00, Id=396b3b58-b75e-41bd-99f4-fdc0e68ce630)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'396b3b58-b75e-41bd-99f4-fdc0e68ce630','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:02:59
2025-11-19T15:03:00.0002926Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:02:00+00:00\',\'Next\':\'2025-11-19T15:03:00+00:00\',\'LastUpdated\':\'2025-11-19T15:02:00+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'396b3b58-b75e-41bd-99f4-fdc0e68ce630','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:02:59
2025-11-19T15:03:00.0086706Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'396b3b58-b75e-41bd-99f4-fdc0e68ce630','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:03:00
2025-11-19T15:03:00.0134753Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=396b3b58-b75e-41bd-99f4-fdc0e68ce630, Duration=12ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'396b3b58-b75e-41bd-99f4-fdc0e68ce630','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:03:00
2025-11-19T15:03:00.0148734Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'396b3b58-b75e-41bd-99f4-fdc0e68ce630','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:03:00
2025-11-19T15:03:32.2156603Z WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.
2025-11-19T15:03:32.9124821Z Starting OpenBSD Secure Shell server: sshd.
2025-11-19T15:03:35.6852361Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Initializing Warmup Extension.','category':'Host.Triggers.Warmup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7209726Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Initializing Host. OperationId: 10431929-e6e8-45cc-a212-866834294182.','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':503,'eventName':'Initializing'}",11/19/2025 15:03:35
2025-11-19T15:03:35.7308067Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host initialization: ConsecutiveErrors=0, StartupCount=1, OperationId=10431929-e6e8-45cc-a212-866834294182','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':504,'eventName':'Initialization'}",11/19/2025 15:03:35
2025-11-19T15:03:35.7519096Z MS_FUNCTION_AZURE_MONITOR_EVENT 3,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Your app is using a deprecated version - 3.41.0 of extension bundles. Upgrade to a supported version: https://aka.ms/FunctionsBundlesUpgrade','category':'Host.General','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Warning','levelId':3,'processId':27,'eventId':342,'eventName':'OutdatedExtensionBundle'}",11/19/2025 15:03:35
2025-11-19T15:03:35.7541912Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'LoggerFilterOptions\n{\n  \'MinLevel\': \'None\',\n  \'Rules\': [\n    {\n      \'ProviderName\': null,\n      \'CategoryName\': null,\n      \'LogLevel\': \'Warning\',\n      \'Filter\': null\n    },\n    {\n      \'ProviderName\': null,\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.WebHostSystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': \'None\',\n      \'Filter\': null\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.WebHostSystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    },\n    {\n      \'ProviderName\': null,\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': \'None\',\n      \'Filter\': null\n    },\n    {\n      \'ProviderName\': \'Microsoft.Azure.WebJobs.Script.WebHost.Diagnostics.SystemLoggerProvider\',\n      \'CategoryName\': null,\n      \'LogLevel\': null,\n      \'Filter\': \'<AddFilter>b__0\'\n    }\n  ]\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7551017Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'HttpWorkerOptions\n{\n  \'Type\': 0,\n  \'Description\': null,\n  \'Arguments\': null,\n  \'Port\': 44227,\n  \'IsPortManuallySet\': false,\n  \'EnableForwardingHttpRequest\': false,\n  \'EnableProxyingHttpRequest\': false,\n  \'InitializationTimeout\': \'00:00:30\',\n  \'CustomRoutesEnabled\': false,\n  \'Http\': null\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7551688Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'FunctionResultAggregatorOptions\n{\n  \'BatchSize\': 1000,\n  \'FlushTimeout\': \'00:00:30\',\n  \'IsEnabled\': true\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7551973Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'ConcurrencyOptions\n{\n  \'DynamicConcurrencyEnabled\': false,\n  \'MaximumFunctionConcurrency\': 500,\n  \'CPUThreshold\': 0.8,\n  \'SnapshotPersistenceEnabled\': true\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7552213Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'SingletonOptions\n{\n  \'LockPeriod\': \'00:00:15\',\n  \'ListenerLockPeriod\': \'00:01:00\',\n  \'LockAcquisitionTimeout\': \'10675199.02:48:05.4775807\',\n  \'LockAcquisitionPollingInterval\': \'00:00:05\',\n  \'ListenerLockRecoveryPollingInterval\': \'00:01:00\'\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7552441Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'ScaleOptions\n{\n  \'ScaleMetricsMaxAge\': \'00:02:00\',\n  \'ScaleMetricsSampleInterval\': \'00:00:10\',\n  \'MetricsPurgeEnabled\': true,\n  \'IsTargetScalingEnabled\': true,\n  \'IsRuntimeScalingEnabled\': false\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7563402Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Starting JobHost','category':'Microsoft.Azure.WebJobs.Hosting.JobHostService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.7563772Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Starting Host (HostId=airquality, InstanceId=117e0bbe-f490-416d-b7db-eb935fff30d1, Version=4.1045.100.0, ProcessId=27, AppDomainId=1, InDebugMode=True, InDiagnosticMode=False, FunctionsExtensionVersion=~4)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':401,'eventName':'StartingHost'}",11/19/2025 15:03:35
2025-11-19T15:03:35.7759184Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Loading functions metadata','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':314,'eventName':'FunctionMetadataManagerLoadingFunctionsMetadata'}",11/19/2025 15:03:35
2025-11-19T15:03:35.7804385Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Reading functions metadata (Custom)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':326,'eventName':'ReadingFunctionMetadataFromProvider'}",11/19/2025 15:03:35
2025-11-19T15:03:35.7886096Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'0 functions found (Custom)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':327,'eventName':'FunctionsReturnedByProvider'}",11/19/2025 15:03:35
2025-11-19T15:03:35.794426Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'2 functions loaded','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':315,'eventName':'FunctionMetadataManagerFunctionsLoaded'}",11/19/2025 15:03:35
2025-11-19T15:03:35.8084156Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Generating 2 job function(s)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.8110495Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Worker process started and initialized.','category':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcFunctionInvocationDispatcher','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.8414615Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Found the following functions:\nHost.Functions.GenerateAirQualityData\nHost.Functions.ProcessAirQualitySummary\n','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.8481591Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Initializing function HTTP routes\nNo HTTP routes mapped\n','category':'Microsoft.Azure.WebJobs.Script.WebHost.WebScriptHostHttpRoutesManager','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.8508374Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'HttpOptions\n{\n  \'DynamicThrottlesEnabled\': false,\n  \'EnableChunkedRequestBinding\': false,\n  \'MaxConcurrentRequests\': -1,\n  \'MaxOutstandingRequests\': -1,\n  \'RoutePrefix\': \'api\'\n}','category':'Microsoft.Azure.WebJobs.Hosting.OptionsLoggingService','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:35
2025-11-19T15:03:35.8638317Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host initialized (91ms)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':412,'eventName':'ScriptHostInitialized'}",11/19/2025 15:03:35
2025-11-19T15:03:36.0734933Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host started (317ms)','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':413,'eventName':'ScriptHostStarted'}",11/19/2025 15:03:36
2025-11-19T15:03:36.0741433Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Job host started','category':'Host.Startup','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:36
2025-11-19T15:03:36.3519401Z Hosting environment: Production
2025-11-19T15:03:36.35211Z Content root path: /azure-functions-host
2025-11-19T15:03:36.3521183Z Now listening on: http://[::]:80
2025-11-19T15:03:36.3521329Z Application started. Press Ctrl+C to shut down.
2025-11-19T15:03:59.9983412Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.ProcessAirQualitySummary (Reason=Timer fired at 2025-11-19T15:03:59.9970167+00:00, Id=76fd9e53-1db6-439b-92ab-6d20659ae082)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'76fd9e53-1db6-439b-92ab-6d20659ae082','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:03:59
2025-11-19T15:03:59.9986339Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:02:00+00:00\',\'Next\':\'2025-11-19T15:04:00+00:00\',\'LastUpdated\':\'2025-11-19T15:02:00+00:00\'}','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'76fd9e53-1db6-439b-92ab-6d20659ae082','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:03:59
2025-11-19T15:04:00.0037433Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:04:00.0032603+00:00, Id=e48c6a1b-c0e7-44e0-a067-c5bfed17f62b)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'e48c6a1b-c0e7-44e0-a067-c5bfed17f62b','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:04:00
2025-11-19T15:04:00.0041839Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:03:00+00:00\',\'Next\':\'2025-11-19T15:04:00+00:00\',\'LastUpdated\':\'2025-11-19T15:03:00+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'e48c6a1b-c0e7-44e0-a067-c5bfed17f62b','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Information','levelId':2,'processId':27}",11/19/2025 15:04:00
2025-11-19T15:04:00.0153146Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Error while processing air-quality changes: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.ProcessAirQualitySummary.User','hostVersion':'4.1045.100.0','functionInvocationId':'76fd9e53-1db6-439b-92ab-6d20659ae082','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:04:00
2025-11-19T15:04:00.0182388Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'e48c6a1b-c0e7-44e0-a067-c5bfed17f62b','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27}",11/19/2025 15:04:00
2025-11-19T15:04:00.0230245Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=e48c6a1b-c0e7-44e0-a067-c5bfed17f62b, Duration=18ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'e48c6a1b-c0e7-44e0-a067-c5bfed17f62b','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:04:00
2025-11-19T15:04:00.0249641Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.ProcessAirQualitySummary (Failed, Id=76fd9e53-1db6-439b-92ab-6d20659ae082, Duration=24ms)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'76fd9e53-1db6-439b-92ab-6d20659ae082','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:04:00
2025-11-19T15:04:00.0264129Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'e48c6a1b-c0e7-44e0-a067-c5bfed17f62b','functionName':'GenerateAirQualityData','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:04:00
2025-11-19T15:04:00.0273316Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'76fd9e53-1db6-439b-92ab-6d20659ae082','functionName':'ProcessAirQualitySummary','hostInstanceId':'b8ddd99f-2f34-401f-9355-15be061b199d','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.ProcessAirQualitySummary ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 80, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:04:00
2025-11-19T15:04:20.7810961Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Host lock lease acquired by instance ID e8b526046418f23e7ba2c67dc87c7eeb.','category':'Host.General','hostVersion':'4.1045.100.0','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':337,'eventName':'PrimaryHostCoordinatorLockLeaseAcquired'}",11/19/2025 15:04:20
2025-11-19T15:05:36.1402756Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'The next 5 occurrences of the GenerateAirQualityData schedule (Cron: 0 * * * * *) will be:\n11/19/2025 15:06:00Z\n11/19/2025 15:07:00Z\n11/19/2025 15:08:00Z\n11/19/2025 15:09:00Z\n11/19/2025 15:10:00Z\n','category':'Host.Triggers.Timer','hostVersion':'4.1045.100.0','functionName':'GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':5,'eventName':'NextOccurrences'}",11/19/2025 15:05:36
2025-11-19T15:05:36.1416415Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'The next 5 occurrences of the ProcessAirQualitySummary schedule (Cron: 0 0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58 * * * *) will be:\n11/19/2025 15:06:00Z\n11/19/2025 15:08:00Z\n11/19/2025 15:10:00Z\n11/19/2025 15:12:00Z\n11/19/2025 15:14:00Z\n','category':'Host.Triggers.Timer','hostVersion':'4.1045.100.0','functionName':'ProcessAirQualitySummary','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':5,'eventName':'NextOccurrences'}",11/19/2025 15:05:36
2025-11-19T15:05:36.1672361Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:05:36.1512062+00:00, Id=01edde2d-2b5f-4da7-8049-30dce9360888)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'01edde2d-2b5f-4da7-8049-30dce9360888','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:05:36
2025-11-19T15:05:36.1688172Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: UnscheduledInvocationReason: IsPastDue, OriginalSchedule: 2025-11-19T15:05:00.0000000+00:00, ScheduleStatus: {\'Last\':\'2025-11-19T15:04:00.0031699+00:00\',\'Next\':\'2025-11-19T15:05:00+00:00\',\'LastUpdated\':\'2025-11-19T15:04:00.0031699+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'01edde2d-2b5f-4da7-8049-30dce9360888','functionName':'GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:05:36
2025-11-19T15:05:36.1922654Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'01edde2d-2b5f-4da7-8049-30dce9360888','functionName':'GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Error','levelId':4,'processId':27}",11/19/2025 15:05:36
2025-11-19T15:05:36.2397576Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executed Functions.GenerateAirQualityData (Failed, Id=01edde2d-2b5f-4da7-8049-30dce9360888, Duration=75ms)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'01edde2d-2b5f-4da7-8049-30dce9360888','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException','eventId':3,'eventName':'FunctionCompleted'}",11/19/2025 15:05:36
2025-11-19T15:05:36.2526714Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'','category':'Host.Results','hostVersion':'4.1045.100.0','functionInvocationId':'01edde2d-2b5f-4da7-8049-30dce9360888','functionName':'GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Error','levelId':4,'processId':27,'exceptionDetails':'Microsoft.Azure.WebJobs.Host.FunctionInvocationException : Exception while executing function: Functions.GenerateAirQualityData ---> Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException : Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.WorkerFunctionInvoker.InvokeCore(Object[] parameters,FunctionInvocationContext context) at /_/src/WebJobs.Script/Description/Workers/WorkerFunctionInvoker.cs : 103\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Script.Description.FunctionInvokerBase.Invoke(Object[] parameters) at /_/src/WebJobs.Script/Description/FunctionInvokerBase.cs : 82\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.VoidTaskMethodInvoker`2.InvokeAsync[TReflected,TReturnType](TReflected instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/VoidTaskMethodInvoker.cs : 20\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionInvoker`2.InvokeAsync[TReflected,TReturnValue](Object instance,Object[] arguments) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionInvoker.cs : 53\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.InvokeWithTimeoutAsync(IFunctionInvoker invoker,ParameterHelper parameterHelper,CancellationTokenSource timeoutTokenSource,CancellationTokenSource functionCancellationTokenSource,Boolean throwOnTimeout,TimeSpan timerInterval,IFunctionInstance instance) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 586\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithWatchersAsync(IFunctionInstanceEx instance,ParameterHelper parameterHelper,ILogger logger,CancellationTokenSource functionCancellationTokenSource) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 532\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 311\n   End of inner exception\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.ExecuteWithLoggingAsync(IFunctionInstanceEx instance,FunctionStartedMessage message,FunctionInstanceLogEntry instanceLogEntry,ParameterHelper parameterHelper,ILogger logger,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 357\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at async Microsoft.Azure.WebJobs.Host.Executors.FunctionExecutor.TryExecuteAsync(IFunctionInstance functionInstance,CancellationToken cancellationToken) at /_/src/Microsoft.Azure.WebJobs.Host/Executors/FunctionExecutor.cs : 113','exceptionMessage':'Result: Failure\nType: \nException: Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nStack:   File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 684, in _handle__invocation_request\n    call_result = await self._loop.run_in_executor(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/usr/local/lib/python3.11/concurrent/futures/thread.py\', line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/dispatcher.py\', line 1015, in _run_sync_func\n    return ExtensionManager.get_sync_invocation_wrapper(context,\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \'/azure-functions-host/workers/python/3.11/LINUX/X64/azure_functions_worker/extension.py\', line 211, in _raw_invocation_wrapper\n    result = function(**args)\n             ^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n','exceptionType':'Microsoft.Azure.WebJobs.Script.Workers.Rpc.RpcException'}",11/19/2025 15:05:36
2025-11-19T15:06:00.0054295Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.GenerateAirQualityData (Reason=Timer fired at 2025-11-19T15:06:00.0025791+00:00, Id=0bdbeab7-020a-4d30-9a90-f68886d47dbc)','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'0bdbeab7-020a-4d30-9a90-f68886d47dbc','functionName':'Functions.GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:06:00
2025-11-19T15:06:00.0066553Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:05:36.147202+00:00\',\'Next\':\'2025-11-19T15:06:00+00:00\',\'LastUpdated\':\'2025-11-19T15:05:36.147202+00:00\'}','category':'Function.GenerateAirQualityData','hostVersion':'4.1045.100.0','functionInvocationId':'0bdbeab7-020a-4d30-9a90-f68886d47dbc','functionName':'GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:06:00
2025-11-19T15:06:00.0090663Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Executing Functions.ProcessAirQualitySummary (Reason=Timer fired at 2025-11-19T15:06:00.0025817+00:00, Id=5a2ef210-abc8-48c1-8e38-e33fe19c0e6e)','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'5a2ef210-abc8-48c1-8e38-e33fe19c0e6e','functionName':'Functions.ProcessAirQualitySummary','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27,'eventId':1,'eventName':'FunctionStarted'}",11/19/2025 15:06:00
2025-11-19T15:06:00.0100027Z MS_FUNCTION_AZURE_MONITOR_EVENT 4,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Trigger Details: ScheduleStatus: {\'Last\':\'2025-11-19T15:04:00+00:00\',\'Next\':\'2025-11-19T15:06:00+00:00\',\'LastUpdated\':\'2025-11-19T15:04:00+00:00\'}','category':'Function.ProcessAirQualitySummary','hostVersion':'4.1045.100.0','functionInvocationId':'5a2ef210-abc8-48c1-8e38-e33fe19c0e6e','functionName':'ProcessAirQualitySummary','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Information','levelId':2,'processId':27}",11/19/2025 15:06:00
2025-11-19T15:06:00.0265269Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Failed to insert air-quality data: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 43, in main\n    _write_batch(readings)\n  File \'/home/site/wwwroot/GenerateAirQualityData/__init__.py\', line 31, in _write_batch\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.GenerateAirQualityData.User','hostVersion':'4.1045.100.0','functionInvocationId':'0bdbeab7-020a-4d30-9a90-f68886d47dbc','functionName':'GenerateAirQualityData','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Error','levelId':4,'processId':27}",11/19/2025 15:06:00
2025-11-19T15:06:00.0301832Z MS_FUNCTION_AZURE_MONITOR_EVENT 2,airquality-ebcfdaa3b8bgb8az.eastus-01.azurewebsites.net,Microsoft.Web/sites/functions/log,FunctionAppLogs,eastus,"{'appName':'airquality','roleInstance':'e8b526046418f23e7ba2c67dc87c7eeb09a4e7d38cc305f1dc7adc17a4238a74','message':'Error while processing air-quality changes: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')\nTraceback (most recent call last):\n  File \'/home/site/wwwroot/ProcessAirQualitySummary/__init__.py\', line 85, in main\n    with get_sql_connection() as conn:\n         ^^^^^^^^^^^^^^^^^^^^\n  File \'/home/site/wwwroot/azure_sql.py\', line 136, in get_sql_connection\n    return pyodbc.connect(conn_str, timeout=30)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npyodbc.Error: (01000, \'[01000] [unixODBC][Driver Manager]Cant open lib ODBC Driver 17 for SQL Server : file not found (0) (SQLDriverConnect)\')','category':'Function.ProcessAirQualitySummary.User','hostVersion':'4.1045.100.0','functionInvocationId':'5a2ef210-abc8-48c1-8e38-e33fe19c0e6e','functionName':'ProcessAirQualitySummary','hostInstanceId':'117e0bbe-f490-416d-b7db-eb935fff30d1','level':'Error','levelId':4,'processId':27}",11/19/2025 15:06:00